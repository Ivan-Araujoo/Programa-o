<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Plataforma ONG — Gestão de Projetos, Voluntários e Captação</title>
  <meta name="description" content="Protótipo de plataforma para ONGs: projetos, voluntariado, doações, dashboard e documentação técnica.">
  <link rel="icon" href="data:;base64,iVBORw0KGgo=">
  <style>
    /* --------------------------
       Variáveis e reset simples
       -------------------------- */
    :root{
      --bg:#f6f7fb;
      --card:#ffffff;
      --primary:#0b6efd;
      --muted:#6b7280;
      --accent:#06b6d4;
      --success:#16a34a;
      --danger:#ef4444;
      --radius:10px;
      --container:1200px;
      font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      background:linear-gradient(180deg,#f6f7fb 0%, #ffffff 100%);
      color:#0f172a;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      line-height:1.4;
      padding:24px;
      display:flex;
      justify-content:center;
    }

    /* container */
    .wrap{
      width:100%;
      max-width:var(--container);
    }

    header{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:16px;
      margin-bottom:20px;
    }
    .brand{
      display:flex;
      gap:12px;
      align-items:center;
    }
    .logo{
      width:52px;
      height:52px;
      border-radius:12px;
      background:linear-gradient(135deg,var(--primary),var(--accent));
      display:flex;
      align-items:center;
      justify-content:center;
      color:white;
      font-weight:700;
      font-size:18px;
      box-shadow:0 6px 18px rgba(11,110,253,0.18);
    }
    nav a{
      margin-right:12px;
      color:var(--muted);
      text-decoration:none;
      font-weight:600;
    }
    nav a:focus,
    nav a:hover{color:var(--primary); outline: none;}

    /* layout principal */
    main{
      display:grid;
      grid-template-columns: 1fr 360px;
      gap:20px;
      align-items:start;
    }

    /* cards */
    .card{
      background:var(--card);
      border-radius:var(--radius);
      padding:18px;
      box-shadow:0 8px 20px rgba(12,23,40,0.06);
    }
    .hero{
      display:flex;
      gap:16px;
      align-items:flex-start;
      justify-content:space-between;
    }
    .hero h1{margin:0;font-size:22px}
    .muted{color:var(--muted); font-size:0.95rem}

    /* grid de projetos */
    .projects-grid{
      display:grid;
      grid-template-columns:repeat(2,1fr);
      gap:12px;
      margin-top:12px;
    }
    .project{
      padding:12px;
      border-radius:8px;
      background:linear-gradient(180deg, rgba(6,182,212,0.06), rgba(11,110,253,0.02));
    }
    .project h3{margin:0 0 6px 0;font-size:1rem}
    .project p{margin:0;color:var(--muted);font-size:0.9rem}

    /* form */
    form{display:flex;flex-direction:column;gap:10px}
    label{font-weight:600;font-size:0.9rem}
    input[type="text"], input[type="email"], textarea, select{
      padding:10px;border-radius:8px;border:1px solid #e6e9ef;background:white;
      font-size:0.95rem;
    }
    textarea{min-height:90px;resize:vertical}
    .row{display:flex;gap:10px}
    .row .col{flex:1}

    button{
      padding:10px 14px;border-radius:8px;border:0;background:var(--primary);color:white;font-weight:700;
      cursor:pointer;
    }
    button[aria-pressed="true"]{box-shadow:0 6px 16px rgba(6,110,253,0.18)}
    button.secondary{background:transparent;color:var(--primary);border:1px solid rgba(11,110,253,0.12)}

    /* sidebar widgets */
    aside .widget{margin-bottom:12px}

    /* responsive */
    @media(max-width:980px){
      main{grid-template-columns:1fr}
      .projects-grid{grid-template-columns:1fr}
      aside{order:2}
    }

    /* footer */
    footer{margin-top:18px;color:var(--muted);font-size:0.9rem;text-align:center}
    /* small helpers */
    .flex{display:flex;gap:8px;align-items:center}
    .chip{background:#f1f5f9;padding:6px 8px;border-radius:999px;font-size:0.85rem}
    .stat{font-weight:800;font-size:1.2rem}
    .sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}
  </style>
</head>
<body>
  <div class="wrap" role="application" aria-label="Plataforma de gestão para ONGs">
    <header>
      <div class="brand">
        <div class="logo" aria-hidden="true">ONG</div>
        <div>
          <div style="font-weight:800">Plataforma ONG</div>
          <div class="muted">Gerencie projetos • Capte recursos • Engaje voluntários</div>
        </div>
      </div>

      <nav aria-label="Navegação principal">
        <a href="#projetos">Projetos</a>
        <a href="#voluntarios">Voluntários</a>
        <a href="#captacao">Captação</a>
        <a href="#dashboard">Dashboard</a>
      </nav>
    </header>

    <main>
      <!-- coluna principal -->
      <section aria-labelledby="main-heading">
        <div class="card hero" role="region" aria-labelledby="main-heading">
          <div>
            <h1 id="main-heading">Painel de Gestão — Visão Geral</h1>
            <p class="muted">Um protótipo que demonstra HTML5 semântico, CSS responsivo e JavaScript para funcionalidades básicas.</p>
            <div style="margin-top:12px" class="flex" aria-hidden="true">
              <div class="chip">Projetos ativos: <strong id="count-projects">0</strong></div>
              <div class="chip">Voluntários: <strong id="count-volunteers">0</strong></div>
              <div class="chip">Doações (sim): <strong id="total-donations">R$ 0,00</strong></div>
            </div>
          </div>
          <div style="min-width:220px;text-align:right">
            <button id="new-project-btn">+ Novo Projeto</button>
            <div style="margin-top:8px">
              <button class="secondary" id="simulate-git">Simular Git</button>
            </div>
          </div>
        </div>

        <!-- Projetos -->
        <section id="projetos" class="card" aria-labelledby="projetos-heading" style="margin-top:16px">
          <h2 id="projetos-heading">Projetos</h2>
          <p class="muted">Liste, filtre e divulgue projetos.</p>

          <div style="margin-top:12px; display:flex; gap:12px; align-items:center;">
            <input id="filter-projects" type="text" placeholder="Pesquisar por título..." aria-label="Pesquisar projetos">
            <select id="filter-status" aria-label="Filtrar por status">
              <option value="all">Todos</option>
              <option value="active">Ativos</option>
              <option value="completed">Concluídos</option>
            </select>
            <button class="secondary" id="clear-filters">Limpar</button>
          </div>

          <div class="projects-grid" id="projects-grid" aria-live="polite" style="margin-top:12px">
            <!-- cards de projeto serão injetados aqui -->
          </div>
        </section>

        <!-- Voluntários -->
        <section id="voluntarios" class="card" aria-labelledby="voluntarios-heading" style="margin-top:16px">
          <h2 id="voluntarios-heading">Voluntários</h2>
          <p class="muted">Formulário simples para cadastro e listagem.</p>

          <form id="volunteer-form" aria-describedby="volunteer-desc">
            <div id="volunteer-desc" class="sr-only">Formulário de cadastro de voluntários: nome, email, habilidades.</div>
            <div class="row">
              <div class="col">
                <label for="v-name">Nome</label>
                <input id="v-name" name="name" type="text" required placeholder="Nome completo">
              </div>
              <div class="col">
                <label for="v-email">Email</label>
                <input id="v-email" name="email" type="email" required placeholder="seu@exemplo.com">
              </div>
            </div>
            <label for="v-skills">Habilidades / Observações</label>
            <textarea id="v-skills" name="skills" placeholder="Ex: comunicação, logística, eventos"></textarea>
            <div style="display:flex;gap:8px;align-items:center">
              <button type="submit">Cadastrar Voluntário</button>
              <button type="button" class="secondary" id="export-volunteers">Exportar (JSON)</button>
            </div>
          </form>

          <div id="volunteer-list" style="margin-top:12px"></div>
        </section>

        <!-- Captação -->
        <section id="captacao" class="card" aria-labelledby="captacao-heading" style="margin-top:16px">
          <h2 id="captacao-heading">Captação / Doações (Simulação)</h2>
          <p class="muted">Simule campanhas e doações. Integre com gateway real (ex: Stripe, PagSeguro) em produção.</p>

          <form id="donation-form" style="margin-top:8px">
            <div class="row">
              <div class="col">
                <label for="donor-name">Nome</label>
                <input id="donor-name" type="text" placeholder="Nome do doador" required>
              </div>
              <div class="col">
                <label for="donation-amount">Valor (R$)</label>
                <input id="donation-amount" type="text" inputmode="numeric" placeholder="50.00" required>
              </div>
            </div>
            <label for="donation-project">Destino (projeto)</label>
            <select id="donation-project" aria-label="Projeto para doação">
              <option value="">— Selecionar —</option>
            </select>

            <div style="margin-top:8px; display:flex; gap:8px;">
              <button type="submit">Doar (simular)</button>
              <button type="button" class="secondary" id="clear-donations">Limpar doações</button>
            </div>
          </form>

          <div id="donation-list" style="margin-top:12px"></div>
        </section>
      </section>

      <!-- sidebar -->
      <aside aria-labelledby="sidebar-heading">
        <div class="card widget" role="region" aria-labelledby="sidebar-heading">
          <h3 id="sidebar-heading">Dashboard Rápido</h3>
          <div style="margin-top:8px">
            <div class="muted">Total de projetos</div>
            <div class="stat" id="stat-projects">0</div>
            <div class="muted" style="margin-top:8px">Total de voluntários</div>
            <div class="stat" id="stat-volunteers">0</div>
            <div class="muted" style="margin-top:8px">Doações totais</div>
            <div class="stat" id="stat-donations">R$ 0,00</div>
          </div>
        </div>

        <div class="card widget" role="region" aria-labelledby="widget-actions">
          <h4 id="widget-actions">Ações rápidas</h4>
          <div style="margin-top:8px;display:flex;flex-direction:column;gap:8px">
            <button id="open-projects">Ver Projetos</button>
            <button id="open-volunteers" class="secondary">Ver Voluntários</button>
            <button id="open-captacao" class="secondary">Ver Captação</button>
          </div>
        </div>

        <div class="card widget" role="region" aria-labelledby="widget-accessibility">
          <h4 id="widget-accessibility">Acessibilidade</h4>
          <p class="muted">Opções rápidas para demonstrar boas práticas.</p>
          <div style="margin-top:8px;display:flex;gap:8px">
            <button id="increase-contrast" class="secondary">Alto contraste</button>
            <button id="reset-contrast" class="secondary">Reset</button>
          </div>
        </div>
      </aside>
    </main>

    <footer>
      <small>Documento técnico: este protótipo demonstra uso de HTML5 semântico, CSS moderno, interação com JS e simulação de persistência (localStorage). Recomendado: Git + CI, testes e acessibilidade com Lighthouse.</small>
    </footer>
  </div>

  <script>
    /* ============================
       Simulação de backend via localStorage
       ============================ */

    // utilitários
    const $ = (sel, ctx=document) => ctx.querySelector(sel);
    const $$ = (sel, ctx=document) => Array.from(ctx.querySelectorAll(sel));
    const formatBRL = n => {
      const v = Number(n) || 0;
      return v.toLocaleString('pt-BR', {style:'currency', currency:'BRL'});
    };

    // estado
    const DB = {
      projects: JSON.parse(localStorage.getItem('ong_projects') || '[]'),
      volunteers: JSON.parse(localStorage.getItem('ong_volunteers') || '[]'),
      donations: JSON.parse(localStorage.getItem('ong_donations') || '[]')
    };

    // save
    function persist(){ 
      localStorage.setItem('ong_projects', JSON.stringify(DB.projects));
      localStorage.setItem('ong_volunteers', JSON.stringify(DB.volunteers));
      localStorage.setItem('ong_donations', JSON.stringify(DB.donations));
      renderAll();
    }

    // inicial demo se vazio
    if(DB.projects.length === 0){
      DB.projects.push(
        {id: generateId(), title:'Apoio Escolar Comunitário', summary:'Aulas de reforço para crianças', status:'active'},
        {id: generateId(), title:'Mutirão Verde', summary:'Plantio de árvores e limpeza', status:'active'},
        {id: generateId(), title:'Banco de Alimentos', summary:'Distribuição mensal', status:'completed'}
      );
      persist();
    }

    // ---------- renderers ----------
    function renderAll(){
      renderCounts();
      renderProjectsGrid();
      renderVolunteers();
      renderDonations();
      populateDonationSelect();
    }

    function renderCounts(){
      $('#count-projects').textContent = DB.projects.length;
      $('#count-volunteers').textContent = DB.volunteers.length;
      const total = DB.donations.reduce((s,d)=>s+Number(d.amount||0),0);
      $('#total-donations').textContent = formatBRL(total);
      $('#stat-projects').textContent = DB.projects.length;
      $('#stat-volunteers').textContent = DB.volunteers.length;
      $('#stat-donations').textContent = formatBRL(total);
    }

    function renderProjectsGrid(filterText='', filterStatus='all'){
      const grid = $('#projects-grid');
      grid.innerHTML = '';
      const list = DB.projects
        .filter(p => (filterStatus==='all' || p.status===filterStatus))
        .filter(p => p.title.toLowerCase().includes(filterText.toLowerCase()));
      if(list.length===0){
        const empty = document.createElement('div');
        empty.className='project';
        empty.innerHTML = '<p class="muted">Nenhum projeto encontrado.</p>';
        grid.appendChild(empty);
        return;
      }
      list.forEach(p=>{
        const el = document.createElement('article');
        el.className='project';
        el.setAttribute('aria-labelledby', 'proj-'+p.id);
        el.innerHTML = `
          <h3 id="proj-${p.id}">${escapeHtml(p.title)}</h3>
          <p>${escapeHtml(p.summary || '')}</p>
          <div style="margin-top:8px;display:flex;gap:8px;align-items:center">
            <button data-id="${p.id}" class="btn-edit">Editar</button>
            <button data-id="${p.id}" class="btn-delete" style="background:transparent;border:1px solid rgba(0,0,0,0.06)">Remover</button>
            <div style="margin-left:auto" class="muted">${p.status}</div>
          </div>
        `;
        grid.appendChild(el);
      });
    }

    function renderVolunteers(){
      const el = $('#volunteer-list');
      el.innerHTML = '';
      if(DB.volunteers.length===0){
        el.innerHTML = '<div class="muted">Nenhum voluntário cadastrado.</div>';
        return;
      }
      const list = document.createElement('ul');
      list.style.paddingLeft = '16px';
      DB.volunteers.forEach(v=>{
        const li = document.createElement('li');
        li.innerHTML = `<strong>${escapeHtml(v.name)}</strong> — <span class="muted">${escapeHtml(v.email)}</span> ${v.skills ? '- ' + escapeHtml(v.skills) : ''}`;
        list.appendChild(li);
      });
      el.appendChild(list);
    }

    function renderDonations(){
      const el = $('#donation-list');
      el.innerHTML = '';
      if(DB.donations.length===0){
        el.innerHTML = '<div class="muted">Sem doações (ainda).</div>';
        return;
      }
      const list = document.createElement('ul');
      list.style.paddingLeft = '16px';
      DB.donations.slice().reverse().forEach(d=>{
        const li = document.createElement('li');
        li.innerHTML = `${escapeHtml(d.donor)} doou ${formatBRL(d.amount)} para <em>${escapeHtml(d.projectTitle || 'Geral')}</em>`;
        list.appendChild(li);
      });
      el.appendChild(list);
    }

    function populateDonationSelect(){
      const sel = $('#donation-project');
      sel.innerHTML = '<option value="">— Selecionar —</option>';
      DB.projects.forEach(p=>{
        const opt = document.createElement('option');
        opt.value = p.id;
        opt.textContent = p.title;
        sel.appendChild(opt);
      });
    }

    // ---------- helpers ----------
    function generateId(){ return 'id-'+Math.random().toString(36).slice(2,9); }
    function escapeHtml(s){ return String(s||'').replace(/[&<>"']/g, c => ({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'}[c])); }

    // ---------- eventos ----------
    // filtro projetos
    $('#filter-projects').addEventListener('input', e => {
      const text = e.target.value;
      const status = $('#filter-status').value;
      renderProjectsGrid(text, status);
    });
    $('#filter-status').addEventListener('change', e=>{
      const text = $('#filter-projects').value;
      renderProjectsGrid(text, e.target.value);
    });
    $('#clear-filters').addEventListener('click', ()=>{
      $('#filter-projects').value='';
      $('#filter-status').value='all';
      renderProjectsGrid();
    });

    // criar novo projeto (modal simplificado)
    $('#new-project-btn').addEventListener('click', ()=>{
      const title = prompt('Título do projeto:');
      if(!title) return;
      const summary = prompt('Resumo do projeto:') || '';
      DB.projects.push({id:generateId(), title, summary, status:'active'});
      persist();
      alert('Projeto criado com sucesso (simulado).');
    });

    // delegação: editar / remover projetos
    document.addEventListener('click', (ev)=>{
      const t = ev.target;
      if(t.classList.contains('btn-delete')){
        const id = t.dataset.id;
        if(confirm('Remover projeto?')) {
          DB.projects = DB.projects.filter(p=>p.id!==id);
          persist();
        }
      } else if(t.classList.contains('btn-edit')){
        const id = t.dataset.id;
        const p = DB.projects.find(x=>x.id===id);
        if(!p) return;
        const newTitle = prompt('Editar título:', p.title);
        if(newTitle!==null){ p.title = newTitle; }
        const newSummary = prompt('Editar resumo:', p.summary);
        if(newSummary!==null){ p.summary = newSummary; }
        const newStatus = prompt('Status (active/completed):', p.status);
        if(newStatus!==null){ p.status = newStatus; }
        persist();
      }
    });

    // voluntários - submit
    $('#volunteer-form').addEventListener('submit', e=>{
      e.preventDefault();
      const name = $('#v-name').value.trim();
      const email = $('#v-email').value.trim();
      const skills = $('#v-skills').value.trim();
      if(!name || !email){ alert('Nome e email são obrigatórios.'); return; }
      DB.volunteers.push({id:generateId(), name, email, skills});
      persist();
      $('#volunteer-form').reset();
      $('#v-name').focus();
    });

    $('#export-volunteers').addEventListener('click', ()=>{
      const data = JSON.stringify(DB.volunteers, null, 2);
      const blob = new Blob([data], {type:'application/json'});
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url; a.download = 'voluntarios.json';
      a.click();
      URL.revokeObjectURL(url);
    });

    // doações (simulação)
    $('#donation-form').addEventListener('submit', e=>{
      e.preventDefault();
      const donor = $('#donor-name').value.trim();
      const amountRaw = $('#donation-amount').value.replace(',','.');
      const amount = parseFloat(amountRaw);
      if(!donor || !amount || isNaN(amount) || amount <= 0){ alert('Informe nome e valor válido.'); return; }
      const projectId = $('#donation-project').value;
      const projectTitle = DB.projects.find(p=>p.id===projectId)?.title || null;
      DB.donations.push({id:generateId(), donor, amount, projectId, projectTitle, created:new Date().toISOString()});
      persist();
      $('#donation-form').reset();
    });

    $('#clear-donations').addEventListener('click', ()=>{
      if(confirm('Limpar todas as doações simuladas?')) {
        DB.donations = [];
        persist();
      }
    });

    // simular git (apenas demonstrativo)
    $('#simulate-git').addEventListener('click', ()=>{
      alert('Simulação: git init → git add . → git commit -m "inicial: protótipo" (use repositório real em seu projeto).');
    });

    // navegação rápida
    $('#open-projects').addEventListener('click', ()=> location.hash = '#projetos');
    $('#open-volunteers').addEventListener('click', ()=> location.hash = '#voluntarios');
    $('#open-captacao').addEventListener('click', ()=> location.hash = '#captacao');

    // acessibilidade: alto contraste
    $('#increase-contrast').addEventListener('click', ()=>{
      document.documentElement.style.setProperty('--bg','#0b1220');
      document.documentElement.style.setProperty('--card','#071026');
      document.documentElement.style.setProperty('--primary','#ffd166');
      document.documentElement.style.setProperty('--muted','#e6e6e6');
      document.documentElement.style.setProperty('--accent','#06b6d4');
      document.body.style.color = '#f3f4f6';
    });
    $('#reset-contrast').addEventListener('click', ()=>{
      document.documentElement.style.removeProperty('--bg');
      document.documentElement.style.removeProperty('--card');
      document.documentElement.style.removeProperty('--primary');
      document.documentElement.style.removeProperty('--muted');
      document.documentElement.style.removeProperty('--accent');
      document.body.style.color = '';
    });

    // limpar tudo (não exposto por UI) - para devs
    window.__resetDemo = function(){
      localStorage.removeItem('ong_projects');
      localStorage.removeItem('ong_volunteers');
      localStorage.removeItem('ong_donations');
      location.reload();
    };

    // escape hatch: evita XSS em prompts (já usamos escapeHtml ao renderizar)
    window.addEventListener('error', e => console.warn('Erro:', e.message));

    // inicial render
    renderAll();

    /* ============================
       Documentação técnica (resumo):
       - HTML5 semântico: header, nav, main, section, article, aside, footer.
       - Acessibilidade: labels, aria-* (aria-live, aria-labelledby), foco e texto alternativo.
       - Responsividade: grid + media queries.
       - Interatividade: manipulação de DOM + persistência local (localStorage).
       - Versão / workflow sugerido: git + branch feature, pull request, CI (lint e testes).
       - Deploy recomendado: hosting estático para front (Netlify/Vercel) + API em Node/Flask + DB (Postgres).
       - Testes: Lighthouse, axe-core, unit tests com Jest (para lógica) e Cypress (e2e).
       ============================ */
  </script>
</body>
</html>
